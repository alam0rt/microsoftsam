# Sauron Configuration for Mumble Voice Bot - Multi-Persona Mode
# Runs both Raf and Zapp Brannigan who can talk to each other

personas:
  - name: parrot
    display_name: "Parrot"
    mumble:
      user: "Parrot"
      channel: null  # Join root/default channel

  # - name: raf
  #   soul: raf
  #   mumble:
  #     user: "Raf"
  #     channel: null  # Join root/default channel
  #   tts:
  #     ref_audio: "souls/raf/audio/raf.wav"
  #   respond_to_other_personas: true  # Raf can hear and respond to Zapp

  # - name: zapp
  #   soul: zapp
  #   mumble:
  #     user: "Zapp"
  #     channel: null  # Join root/default channel
  #   tts:
  #     ref_audio: "souls/zapp/audio/zapp.wav"
  #   respond_to_other_personas: true  # Zapp can hear and respond to Raf

# Shared services configuration
shared:
  llm:
    endpoint: "https://openrouter.ai/api/v1/chat/completions"
    model: "openai/gpt-oss-20b:free"
    # api_key loaded from OPENROUTER_API_KEY env var
    timeout: 8.0
    max_tokens: 400
    temperature: 0.7

  stt:
    provider: "nemotron_nemo"
    nemotron_model: "nvidia/nemotron-speech-streaming-en-0.6b"
    nemotron_chunk_ms: 160
    nemotron_device: "cuda"

  tts:
    num_steps: 4
    device: "cuda"

# Bot-to-bot interaction settings
interaction:
  enable_cross_talk: true       # Bots can hear each other
  response_delay_ms: 1500       # Wait 1.5s before responding to other bot
  max_chain_length: 6           # Max back-and-forth before cooldown
  cooldown_after_chain_ms: 10000  # 10s cooldown after max chain

# Mumble server
mumble:
  host: "murmur.middleearth.samlockart.com"
  port: 64738

# Model storage paths
models:
  hf_home: "/srv/share/public/models"
